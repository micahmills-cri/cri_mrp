# Dark Mode Coverage Plan for Supervisor Dashboard

## Summary of Findings
- The supervisor dashboard UI primitives hardcode light-theme Tailwind tokens (e.g., `bg-blue-50`, `text-slate-900`) so their appearance does not change when the `.dark` class is active. Components affected include the card primitives used everywhere on the dashboard: `StatsCard`, `DataCard`, and `StatusCard` each set fixed background, border, and text colors that conflict with dark surfaces.【F:src/components/ui/StatsCard.tsx†L59-L123】【F:src/components/ui/DataCard.tsx†L61-L126】【F:src/components/ui/StatusCard.tsx†L41-L107】
- Base layout elements also default to light backgrounds. The shared `Card` component assumes white surfaces and slate text, so every higher-level card inherits light colors even if we fix individual cards. Inputs/buttons rely on `bg-white` and light borders as well, giving poor contrast in dark mode.【F:src/components/ui/Card.tsx†L23-L90】【F:src/components/ui/Input.tsx†L47-L95】【F:src/components/ui/Button.tsx†L31-L88】
- Variant accent colors (status chips, KPIs, alerts) were selected for the light theme and lack contrast against dark backgrounds, especially yellows and neutrals. They need darker hues or alternative saturation curves so the palette remains legible once remapped to dark surfaces.【F:src/components/ui/StatusCard.tsx†L41-L107】【F:src/components/ui/StatsCard.tsx†L59-L123】
- Global theme variables already expose `--surface`, `--border`, and related tokens for both light and dark mode, but the primitives ignore them. Only top-level layout wrappers consume the CSS variables, so interior components never react to theme changes.【F:src/app/globals.css†L62-L127】

## Proposed Remediation Plan
1. **Introduce theme-aware tokens inside UI primitives.** Replace the hardcoded Tailwind palette classes in `Card`, `StatsCard`, `DataCard`, `StatusCard`, `Input`, `Select`, `Textarea`, `Button`, and `IconButton` with CSS variable-driven utility classes (e.g., `bg-[var(--surface)]`, `text-[var(--foreground)]`, `border-[var(--border)]`). Ensure variant accent colors fall back to semantic CSS variables and add dark-specific overrides when variants require distinct hues.【F:src/app/globals.css†L62-L207】
2. **Rebuild the shared color scales for dark mode.** Partner with design to reshare primary/secondary/semantic palettes (success, warning, info, neutral) so each tone has both light and dark tokens with adequate contrast. Document the new scales in a theme module and update Tailwind config aliases so components pull from the refreshed palette rather than legacy light-only values.【F:tailwind.config.js†L1-L160】
3. **Refactor status/priority color maps.** Move the per-variant color definitions in `StatusCard`, `StatsCard`, and `DataCard` to the shared theme module. Reference the new light/dark palette tokens and rely on Tailwind `dark:` modifiers or CSS variables so the correct mapping applies automatically in SSR/CSR contexts.【F:src/components/ui/StatsCard.tsx†L59-L123】【F:src/components/ui/StatusCard.tsx†L41-L107】
4. **Update dashboard-specific markup.** After the primitives respect dark mode, audit `src/app/supervisor/page.tsx` and related layout wrappers to remove redundant light-theme classes (`bg-white`, `text-slate-900`, etc.) and rely on the updated primitives. Verify list/table sections use theme variables for headers, rows, and hover states to maintain contrast.【F:src/app/supervisor/page.tsx†L962-L1115】
5. **Accessibility verification.** Add manual QA instructions (and, if possible, automated visual checks) to confirm WCAG AA contrast for the dark theme. Use tooling such as Storybook a11y add-ons or `@testing-library/jest-dom` snapshot comparisons to ensure the `dark` class produces appropriate styles across the supervisor dashboard components.
6. **Regression checklist.** Document the dark-mode coverage steps in `docs/CHANGELOG.md` and add a regression checklist entry for future UI work so theme-aware classes remain mandatory when introducing new components.

## Open Questions / Dependencies
- Do we want to support automatic accent recoloring (e.g., green/yellow variants) in dark mode or keep identical hues? Confirm with design before re-theming status chips so variant colors remain recognizable.
- Determine whether to migrate existing Tailwind classes to rely solely on CSS variables or if we should extend Tailwind with custom color tokens that reference the same CSS variables for consistency.
